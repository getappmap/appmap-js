{"version":"1.4","metadata":{"app":"appland/AppLand","language":{"name":"ruby","engine":"ruby","version":"2.6.6"},"client":{"name":"appmap","url":"https://github.com/getappmap/appmap-ruby","version":"0.40.0"},"frameworks":[{"name":"rails","version":"5.2.4.2"},{"name":"rspec","version":"3.9.1"}],"git":{"repository":"git@github.com:getappmap/appland.git","branch":"apply-labels","commit":"5428f5df16a93d59a15d2559c626f6918d8f0523","status":["M app/controllers/api/scenarios_controller.rb","M app/controllers/application_controller.rb","M app/controllers/applications_controller.rb","M app/controllers/concerns/current_user.rb","M app/controllers/home_controller.rb","M app/controllers/js/examples_controller.rb","M app/controllers/profile_filters_controller.rb","M app/controllers/scenario_uploads_controller.rb","M app/controllers/scenarios_controller.rb","M app/controllers/sessions_controller.rb","M app/controllers/setup_controller.rb","M app/controllers/static_controller.rb","M app/controllers/web_resources_controller.rb","M appmap.yml"],"git_last_annotated_tag":null,"git_last_tag":"v0.17.1","git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":0},"name":"ApplicationsController .component_diagram logged in for all features gets a component diagram of all scenarios","feature":"ApplicationsController .component_diagram","feature_group":"Applications","recorder":{"name":"rspec"}},"classMap":[{"name":"app/controllers","type":"package","children":[{"name":"CurrentUser","type":"class","children":[{"name":"allow_anonymous_access","type":"function","location":"app/controllers/concerns/current_user.rb:12","static":false},{"name":"check_current_user","type":"function","location":"app/controllers/concerns/current_user.rb:23","static":false},{"name":"anonymous_access?","type":"function","location":"app/controllers/concerns/current_user.rb:16","static":false},{"name":"current_user","type":"function","location":"app/controllers/concerns/current_user.rb:57","static":false},{"name":"lookup_session_user","type":"function","location":"app/controllers/concerns/current_user.rb:62","static":false,"labels":["provider.authentication"]},{"name":"with_authentication","type":"function","location":"app/controllers/concerns/current_user.rb:32","static":false}]},{"name":"ComponentDiagram","type":"class","children":[{"name":"component_diagram","type":"function","location":"app/controllers/concerns/component_diagram.rb:25","static":false}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"Cipher","type":"class","children":[{"name":"decrypt","type":"function","location":"OpenSSL::Cipher#decrypt","static":false,"labels":["security","crypto"]},{"name":"final","type":"function","location":"OpenSSL::Cipher#final","static":false,"labels":["security","crypto"]},{"name":"encrypt","type":"function","location":"OpenSSL::Cipher#encrypt","static":false,"labels":["security","crypto"]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["serialization","json"]}]},{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["serialization","json"]}]}]}]}]}]},{"name":"app/models","type":"package","children":[{"name":"User","type":"class","children":[{"name":"find_by_id!","type":"function","location":"app/models/user.rb:31","static":true},{"name":"Show","type":"class","children":[{"name":"accept_eula?","type":"function","location":"app/models/user.rb:110","static":false},{"name":"admin?","type":"function","location":"app/models/user.rb:106","static":false}]}]},{"name":"Configuration","type":"class","children":[{"name":"find","type":"function","location":"app/models/configuration.rb:8","static":true},{"name":"attributes=","type":"function","location":"app/models/configuration.rb:34","static":false},{"name":"attributes","type":"function","location":"app/models/configuration.rb:22","static":false}]},{"name":"App","type":"class","children":[{"name":"Search","type":"class","children":[{"name":"find!","type":"function","location":"app/models/app.rb:43","static":false},{"name":"find_by_slug!","type":"function","location":"app/models/app.rb:62","static":false},{"name":"find_by_org_scope!","type":"function","location":"app/models/app.rb:71","static":false}]},{"name":"Show","type":"class","children":[{"name":"mapsets","type":"function","location":"app/models/app.rb:239","static":false}]}]},{"name":"Search","type":"class","children":[{"name":"filter","type":"function","location":"app/models/search.rb:33","static":false}]},{"name":"Mapset","type":"class","children":[{"name":"ordered_list","type":"function","location":"app/models/mapset.rb:22","static":true},{"name":"find_in_app!","type":"function","location":"app/models/mapset.rb:13","static":true},{"name":"Show","type":"class","children":[{"name":"with_cache","type":"function","location":"app/models/mapset.rb:220","static":false},{"name":"component_diagram","type":"function","location":"app/models/mapset.rb:268","static":false}]},{"name":"MapsetCacheModule","type":"class","children":[{"name":"included","type":"function","location":"app/models/mapset.rb:99","static":true}]}]},{"name":"DAO","type":"class","children":[{"name":"App","type":"class","children":[{"name":"ordered_mapset_dataset","type":"function","location":"app/models/dao/app.rb:19","static":false}]},{"name":"Scenario","type":"class","children":[{"name":"distinct_invocation_graph_dataset","type":"function","location":"app/models/dao/scenario.rb:68","static":true},{"name":"first_source_control_dataset","type":"function","location":"app/models/dao/scenario.rb:79","static":true},{"name":"class_locations_dataset","type":"function","location":"app/models/dao/scenario.rb:90","static":true}]}]},{"name":"Scenario","type":"class","children":[{"name":"SearchActions","type":"class","children":[{"name":"search","type":"function","location":"app/models/scenario.rb:30","static":true}]}]}]},{"name":"lib/appland","type":"package","children":[{"name":"Diagram","type":"class","children":[{"name":"ComponentDiagram","type":"class","children":[{"name":"from_invocation_graph","type":"function","location":"lib/appland/diagram/component_diagram.rb:10","static":true},{"name":"add_graph","type":"function","location":"lib/appland/diagram/component_diagram.rb:54","static":false},{"name":"set_class_locations","type":"function","location":"lib/appland/diagram/component_diagram.rb:45","static":false},{"name":"to_json","type":"function","location":"lib/appland/diagram/component_diagram.rb:90","static":false}]}]}]}],"events":[{"id":38257,"event":"call","thread_id":70342530023440,"http_server_request":{"request_method":"GET","path_info":"/default/appland/component_diagram","normalized_path_info":"/:organization_id/:id/component_diagram(.:format)"},"message":[{"name":"mapset","class":"String","value":"14","object_id":70342396406160},{"name":"controller","class":"String","value":"applications","object_id":70342626462940},{"name":"action","class":"String","value":"component_diagram","object_id":70342626461600},{"name":"organization_id","class":"String","value":"default","object_id":70342396410920},{"name":"id","class":"String","value":"appland","object_id":70342396410900}]},{"id":38258,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"allow_anonymous_access","path":"app/controllers/concerns/current_user.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38259,"event":"return","thread_id":70342530023440,"parent_id":38258,"elapsed":8.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38260,"event":"call","thread_id":70342530023440,"defined_class":"OpenSSL::Cipher","method_id":"decrypt","path":"OpenSSL::Cipher#decrypt","static":false,"parameters":[{"name":"arg","class":"Array","object_id":70342396422940,"value":"[]","kind":"rest"}],"receiver":{"class":"OpenSSL::Cipher","object_id":70342396423820,"value":"#<OpenSSL::Cipher:0x00007ff3bb1a5d18>"}},{"id":38261,"event":"return","thread_id":70342530023440,"parent_id":38260,"elapsed":5.0e-06,"return_value":{"class":"OpenSSL::Cipher","value":"#<OpenSSL::Cipher:0x00007ff3bb1a5d18>","object_id":70342396423820}},{"id":38262,"event":"call","thread_id":70342530023440,"defined_class":"OpenSSL::Cipher","method_id":"final","path":"OpenSSL::Cipher#final","static":false,"parameters":[],"receiver":{"class":"OpenSSL::Cipher","object_id":70342396423820,"value":"#<OpenSSL::Cipher:0x00007ff3bb1a5d18>"}},{"id":38263,"event":"return","thread_id":70342530023440,"parent_id":38262,"elapsed":4.0e-06,"return_value":{"class":"String","value":"","object_id":70342396421060}},{"id":38264,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":70342396420720,"value":"#<JSON::Ext::Parser:0x00007ff3bb1a44e0>"}},{"id":38265,"event":"return","thread_id":70342530023440,"parent_id":38264,"elapsed":1.0e-05,"return_value":{"class":"Hash","value":"{\"_rails\"=>{\"message\"=>\"eyJzZXNzaW9uX2lkIjoiODZjNmE3YzFkZTc4MDc2ZDVkNmNhZmEzYTJlNThhYTciLCJ1c2VyX2lk","object_id":70342396444300}},{"id":38266,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":70342396443020,"value":"#<JSON::Ext::Parser:0x00007ff3bb1af318>"}},{"id":38267,"event":"return","thread_id":70342530023440,"parent_id":38266,"elapsed":1.3e-05,"return_value":{"class":"Hash","value":"{\"session_id\"=>\"86c6a7c1de78076d5d6cafa3a2e58aa7\", \"user_id\"=>14, \"configuration\"=>\"{}\", \"flash\"=>{\"","object_id":70342396442000}},{"id":38268,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"check_current_user","path":"app/controllers/concerns/current_user.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38269,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"anonymous_access?","path":"app/controllers/concerns/current_user.rb","lineno":16,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38270,"event":"return","thread_id":70342530023440,"parent_id":38269,"elapsed":5.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38271,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"current_user","path":"app/controllers/concerns/current_user.rb","lineno":57,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38272,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"lookup_session_user","path":"app/controllers/concerns/current_user.rb","lineno":62,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38273,"event":"call","thread_id":70342530023440,"defined_class":"User","method_id":"find_by_id!","path":"app/models/user.rb","lineno":31,"static":true,"parameters":[{"name":"id","class":"Integer","object_id":29,"value":"14","kind":"req"}],"receiver":{"class":"Class","object_id":70342629515820,"value":"User"}},{"id":38274,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT * FROM \"users\" WHERE (\"id\" = 14) LIMIT 1","database_type":"postgres","server_version":120003}},{"id":38275,"event":"return","thread_id":70342530023440,"parent_id":38274,"elapsed":0.00097},{"id":38276,"event":"return","thread_id":70342530023440,"parent_id":38273,"elapsed":0.004928,"return_value":{"class":"User::Show","value":"#<User::Show:0x00007ff3d7cebdf0>","object_id":70342637215480}},{"id":38277,"event":"return","thread_id":70342530023440,"parent_id":38272,"elapsed":0.005024,"return_value":{"class":"User::Show","value":"#<User::Show:0x00007ff3d7cebdf0>","object_id":70342637215480}},{"id":38278,"event":"return","thread_id":70342530023440,"parent_id":38271,"elapsed":0.005095,"return_value":{"class":"User::Show","value":"#<User::Show:0x00007ff3d7cebdf0>","object_id":70342637215480}},{"id":38279,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"current_user","path":"app/controllers/concerns/current_user.rb","lineno":57,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38280,"event":"return","thread_id":70342530023440,"parent_id":38279,"elapsed":6.0e-06,"return_value":{"class":"User::Show","value":"#<User::Show:0x00007ff3d7cebdf0>","object_id":70342637215480}},{"id":38281,"event":"return","thread_id":70342530023440,"parent_id":38268,"elapsed":0.005346,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38282,"event":"call","thread_id":70342530023440,"defined_class":"User::Show","method_id":"accept_eula?","path":"app/models/user.rb","lineno":110,"static":false,"parameters":[],"receiver":{"class":"User::Show","object_id":70342637215480,"value":"#<User::Show:0x00007ff3d7cebdf0>"}},{"id":38283,"event":"return","thread_id":70342530023440,"parent_id":38282,"elapsed":7.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38284,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"with_authentication","path":"app/controllers/concerns/current_user.rb","lineno":32,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":8,"value":null,"kind":"block"}],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38285,"event":"call","thread_id":70342530023440,"defined_class":"Configuration","method_id":"find","path":"app/models/configuration.rb","lineno":8,"static":true,"parameters":[{"name":"session","class":"ActionDispatch::Request::Session","object_id":70342396389120,"value":"#<ActionDispatch::Request::Session:0x00007ff3bb194e00>","kind":"req"}],"receiver":{"class":"Class","object_id":70342556535780,"value":"Configuration"}},{"id":38286,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":70342637207980,"value":"#<JSON::Ext::Parser:0x00007ff3d7ce8358>"}},{"id":38287,"event":"return","thread_id":70342530023440,"parent_id":38286,"elapsed":4.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70342637231560}},{"id":38288,"event":"call","thread_id":70342530023440,"defined_class":"Configuration","method_id":"attributes=","path":"app/models/configuration.rb","lineno":34,"static":false,"parameters":[{"name":"attrs","class":"Hash","object_id":70342637231560,"value":"{}","kind":"req"}],"receiver":{"class":"Configuration","object_id":70342637208040,"value":"#<Configuration:0x00007ff3d7ce83d0>"}},{"id":38289,"event":"return","thread_id":70342530023440,"parent_id":38288,"elapsed":5.0e-06,"return_value":{"class":"Hash","value":"{}","object_id":70342637231560}},{"id":38290,"event":"return","thread_id":70342530023440,"parent_id":38285,"elapsed":0.000136,"return_value":{"class":"Configuration","value":"#<Configuration:0x00007ff3d7ce83d0>","object_id":70342637208040}},{"id":38291,"event":"call","thread_id":70342530023440,"defined_class":"Configuration","method_id":"attributes","path":"app/models/configuration.rb","lineno":22,"static":false,"parameters":[],"receiver":{"class":"Configuration","object_id":70342637208040,"value":"#<Configuration:0x00007ff3d7ce83d0>"}},{"id":38292,"event":"return","thread_id":70342530023440,"parent_id":38291,"elapsed":5.0e-06,"return_value":{"class":"Hash","value":"{\"show_search\"=>nil, \"show_codegen\"=>nil, \"show_mini_profiler\"=>nil, \"show_mockups\"=>nil, \"show_noti","object_id":70342637227980}},{"id":38293,"event":"call","thread_id":70342530023440,"defined_class":"CurrentUser","method_id":"current_user","path":"app/controllers/concerns/current_user.rb","lineno":57,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38294,"event":"return","thread_id":70342530023440,"parent_id":38293,"elapsed":4.0e-06,"return_value":{"class":"User::Show","value":"#<User::Show:0x00007ff3d7cebdf0>","object_id":70342637215480}},{"id":38295,"event":"call","thread_id":70342530023440,"defined_class":"App::Search","method_id":"find!","path":"app/models/app.rb","lineno":43,"static":false,"parameters":[{"name":"app","class":"String","object_id":70342396410900,"value":"appland","kind":"req"},{"name":"org_slug_or_user_login","class":"String","object_id":70342396410920,"value":"default","kind":"opt"}],"receiver":{"class":"App::Search","object_id":70342637225660,"value":"#<App::Search:0x00007ff3d7cf0d78>"}},{"id":38296,"event":"call","thread_id":70342530023440,"defined_class":"App::Search","method_id":"find_by_slug!","path":"app/models/app.rb","lineno":62,"static":false,"parameters":[{"name":"org_slug_or_user_login","class":"String","object_id":70342396410920,"value":"default","kind":"req"},{"name":"app_slug","class":"String","object_id":70342396410900,"value":"appland","kind":"req"}],"receiver":{"class":"App::Search","object_id":70342637225660,"value":"#<App::Search:0x00007ff3d7cf0d78>"}},{"id":38297,"event":"call","thread_id":70342530023440,"defined_class":"App::Search","method_id":"find_by_org_scope!","path":"app/models/app.rb","lineno":71,"static":false,"parameters":[{"name":"org_slug","class":"String","object_id":70342396410920,"value":"default","kind":"req"},{"name":"app_slug","class":"String","object_id":70342396410900,"value":"appland","kind":"req"}],"receiver":{"class":"App::Search","object_id":70342637225660,"value":"#<App::Search:0x00007ff3d7cf0d78>"}},{"id":38298,"event":"call","thread_id":70342530023440,"defined_class":"Search","method_id":"filter","path":"app/models/search.rb","lineno":33,"static":false,"parameters":[{"name":"dataset","class":"Class","object_id":70342613667740,"value":"DAO::App","kind":"req"},{"name":"table_name","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"App::Search","object_id":70342637225660,"value":"#<App::Search:0x00007ff3d7cf0d78>"}},{"id":38299,"event":"call","thread_id":70342530023440,"defined_class":"User::Show","method_id":"admin?","path":"app/models/user.rb","lineno":106,"static":false,"parameters":[],"receiver":{"class":"User::Show","object_id":70342637215480,"value":"#<User::Show:0x00007ff3d7cebdf0>"}},{"id":38300,"event":"return","thread_id":70342530023440,"parent_id":38299,"elapsed":6.0e-06,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38301,"event":"return","thread_id":70342530023440,"parent_id":38298,"elapsed":7.4e-05,"return_value":{"class":"Class","value":"DAO::App","object_id":70342613667740}},{"id":38302,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT \"apps\".* FROM \"apps\" INNER JOIN \"orgs\" ON (\"orgs\".\"id\" = \"apps\".\"org_id\") WHERE ((\"apps\".\"slug\" = 'appland') AND (\"orgs\".\"slug\" = 'default')) LIMIT 1","database_type":"postgres","server_version":120003}},{"id":38303,"event":"return","thread_id":70342530023440,"parent_id":38302,"elapsed":0.001117},{"id":38304,"event":"return","thread_id":70342530023440,"parent_id":38297,"elapsed":0.005301,"return_value":{"class":"DAO::App","value":"#<DAO::App:0x00007ff3d7bd4db8>","object_id":70342636644060}},{"id":38305,"event":"return","thread_id":70342530023440,"parent_id":38296,"elapsed":0.005389,"return_value":{"class":"App::Show","value":"#<App::Show:0x00007ff3d7bd49a8>","object_id":70342636643540}},{"id":38306,"event":"return","thread_id":70342530023440,"parent_id":38295,"elapsed":0.005469,"return_value":{"class":"App::Show","value":"#<App::Show:0x00007ff3d7bd49a8>","object_id":70342636643540}},{"id":38307,"event":"call","thread_id":70342530023440,"defined_class":"App::Show","method_id":"mapsets","path":"app/models/app.rb","lineno":239,"static":false,"parameters":[],"receiver":{"class":"App::Show","object_id":70342636643540,"value":"#<App::Show:0x00007ff3d7bd49a8>"}},{"id":38308,"event":"call","thread_id":70342530023440,"defined_class":"Mapset","method_id":"ordered_list","path":"app/models/mapset.rb","lineno":22,"static":true,"parameters":[{"name":"app","class":"DAO::App","object_id":70342636644060,"value":"#<DAO::App:0x00007ff3d7bd4db8>","kind":"req"}],"receiver":{"class":"Class","object_id":70342635117600,"value":"Mapset"}},{"id":38309,"event":"call","thread_id":70342530023440,"defined_class":"DAO::App","method_id":"ordered_mapset_dataset","path":"app/models/dao/app.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"DAO::App","object_id":70342636644060,"value":"#<DAO::App:0x00007ff3d7bd4db8>"}},{"id":38310,"event":"return","thread_id":70342530023440,"parent_id":38309,"elapsed":4.7e-05,"return_value":{"class":"Sequel::Postgres::Dataset","value":"#<Sequel::Postgres::Dataset:0x00007ff3da6060a0>","object_id":70342658764880}},{"id":38311,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT *, \"mapsets\".\"name\", \"mapsets\".\"branch\", \"mapsets\".\"commit\", \"mapsets\".\"environment\", \"mapsets\".\"version\", (SELECT \"login\" FROM \"users\" WHERE (\"id\" = \"user_id\")), (SELECT count(*) AS \"scenario_count\" FROM \"scenarios\" WHERE (\"mapset_id\" = \"mapsets\".\"id\")) FROM \"mapsets_preference_ordered\" AS \"mapsets\" WHERE (\"mapsets\".\"app_id\" = 31)","database_type":"postgres","server_version":120003}},{"id":38312,"event":"return","thread_id":70342530023440,"parent_id":38311,"elapsed":0.00115},{"id":38313,"event":"return","thread_id":70342530023440,"parent_id":38308,"elapsed":0.005219,"return_value":{"class":"Array","value":"[#<struct Mapset::ListItem id=14, created_at=2021-02-01 15:54:05 UTC, name=nil, branch=nil, commit=n","object_id":70342537868200}},{"id":38314,"event":"return","thread_id":70342530023440,"parent_id":38307,"elapsed":0.005323,"return_value":{"class":"Array","value":"[#<struct Mapset::ListItem id=14, created_at=2021-02-01 15:54:05 UTC, name=nil, branch=nil, commit=n","object_id":70342537868200}},{"id":38315,"event":"call","thread_id":70342530023440,"defined_class":"Mapset","method_id":"find_in_app!","path":"app/models/mapset.rb","lineno":13,"static":true,"parameters":[{"name":"app","class":"App::Show","object_id":70342636643540,"value":"#<App::Show:0x00007ff3d7bd49a8>","kind":"req"},{"name":"id","class":"Integer","object_id":29,"value":"14","kind":"req"}],"receiver":{"class":"Class","object_id":70342635117600,"value":"Mapset"}},{"id":38316,"event":"call","thread_id":70342530023440,"defined_class":"App::Show","method_id":"mapsets","path":"app/models/app.rb","lineno":239,"static":false,"parameters":[],"receiver":{"class":"App::Show","object_id":70342636643540,"value":"#<App::Show:0x00007ff3d7bd49a8>"}},{"id":38317,"event":"return","thread_id":70342530023440,"parent_id":38316,"elapsed":5.0e-06,"return_value":{"class":"Array","value":"[#<struct Mapset::ListItem id=14, created_at=2021-02-01 15:54:05 UTC, name=nil, branch=nil, commit=n","object_id":70342537868200}},{"id":38318,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT * FROM \"mapsets\" WHERE \"id\" = 14","database_type":"postgres","server_version":120003}},{"id":38319,"event":"return","thread_id":70342530023440,"parent_id":38318,"elapsed":0.000866},{"id":38320,"event":"return","thread_id":70342530023440,"parent_id":38315,"elapsed":0.004343,"return_value":{"class":"Mapset::Show","value":"#<Mapset::Show:0x00007ff3d9ec4698>","object_id":70342654960460}},{"id":38321,"event":"call","thread_id":70342530023440,"defined_class":"ComponentDiagram","method_id":"component_diagram","path":"app/controllers/concerns/component_diagram.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"ApplicationsController","object_id":70342396410140,"value":"#<ApplicationsController:0x00007ff3bb19f238>"}},{"id":38322,"event":"call","thread_id":70342530023440,"defined_class":"Mapset::Show","method_id":"with_cache","path":"app/models/mapset.rb","lineno":220,"static":false,"parameters":[],"receiver":{"class":"Mapset::Show","object_id":70342654960460,"value":"#<Mapset::Show:0x00007ff3d9ec4698>"}},{"id":38323,"event":"call","thread_id":70342530023440,"defined_class":"Mapset::MapsetCacheModule","method_id":"included","path":"app/models/mapset.rb","lineno":99,"static":true,"parameters":[{"name":"base","class":"Class","object_id":70342654982260,"value":"#<Class:#<Mapset::Show:0x00007ff3d9ec4698>>","kind":"req"}],"receiver":{"class":"Module","object_id":70342635054480,"value":"Mapset::MapsetCacheModule"}},{"id":38324,"event":"return","thread_id":70342530023440,"parent_id":38323,"elapsed":2.1e-05,"return_value":{"class":"Array","value":"[:recording_method_counts, :code_object_counts, :key_stats_counts, :data_model, :web_resources]","object_id":70342635054420}},{"id":38325,"event":"return","thread_id":70342530023440,"parent_id":38322,"elapsed":0.001989,"return_value":{"class":"Mapset::Show","value":"#<Mapset::Show:0x00007ff3d9ec4698>","object_id":70342654960460}},{"id":38326,"event":"call","thread_id":70342530023440,"defined_class":"Mapset::Show","method_id":"component_diagram","path":"app/models/mapset.rb","lineno":268,"static":false,"parameters":[{"name":"filter_options","class":"Hash","object_id":70342655130460,"value":"{}","kind":"key"},{"name":"sample_size","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Mapset::Show","object_id":70342654960460,"value":"#<Mapset::Show:0x00007ff3d9ec4698>"}},{"id":38327,"event":"call","thread_id":70342530023440,"defined_class":"Scenario::SearchActions","method_id":"search","path":"app/models/scenario.rb","lineno":30,"static":true,"parameters":[{"name":"offset","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"limit","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"optional_columns","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"order","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"feature","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"route","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"cls","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"keyword","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"feature_group","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"app_id","class":"NilClass","object_id":8,"value":null,"kind":"key"},{"name":"mapset_id","class":"Integer","object_id":29,"value":"14","kind":"key"},{"name":"search","class":"NilClass","object_id":8,"value":null,"kind":"key"}],"receiver":{"class":"Class","object_id":70342556549780,"value":"Scenario::SearchWithoutRestriction"}},{"id":38328,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT \"scenarios\".\"id\", \"scenarios\".\"uuid\", metadata->>'name' AS \"name\", metadata->>'feature_group' AS \"feature_group\", metadata->>'feature' AS \"feature\", \"scenarios\".\"event_field_counts\", \"scenarios\".\"mapset_id\", \"mapsets\".\"app_id\", \"scenarios\".\"created_at\" FROM \"scenarios\" INNER JOIN \"mapsets\" ON (\"mapsets\".\"id\" = \"scenarios\".\"mapset_id\") WHERE (\"scenarios\".\"mapset_id\" = 14) ORDER BY \"scenarios\".\"created_at\" DESC","database_type":"postgres","server_version":120003}},{"id":38329,"event":"return","thread_id":70342530023440,"parent_id":38328,"elapsed":0.001844},{"id":38330,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":70342643733900,"value":"#<JSON::Ext::Parser:0x00007ff3d895ab18>"}},{"id":38331,"event":"return","thread_id":70342530023440,"parent_id":38330,"elapsed":2.0e-05,"return_value":{"class":"Hash","value":"{\"id\"=>8, \"path\"=>2, \"event\"=>8, \"lineno\"=>2, \"method_id\"=>2, \"parent_id\"=>4, \"sql_query\"=>1, \"threa","object_id":70342643732940}},{"id":38332,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":70342643730240,"value":"#<JSON::Ext::Parser:0x00007ff3d8958e80>"}},{"id":38333,"event":"return","thread_id":70342530023440,"parent_id":38332,"elapsed":1.1e-05,"return_value":{"class":"Hash","value":"{\"id\"=>6, \"path\"=>1, \"event\"=>6, \"lineno\"=>1, \"method_id\"=>1, \"parent_id\"=>3, \"sql_query\"=>1, \"threa","object_id":70342643729280}},{"id":38334,"event":"return","thread_id":70342530023440,"parent_id":38327,"elapsed":0.006179,"return_value":{"class":"Array","value":"[#<struct Scenario::ListItem id=7, uuid=\"aa57cd57-7572-4bab-8935-42760eb60c84\", name=nil, feature_gr","object_id":70342655124360}},{"id":38335,"event":"call","thread_id":70342530023440,"defined_class":"DAO::Scenario","method_id":"distinct_invocation_graph_dataset","path":"app/models/dao/scenario.rb","lineno":68,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":70342539022120,"value":"DAO::Scenario"}},{"id":38336,"event":"return","thread_id":70342530023440,"parent_id":38335,"elapsed":5.5e-05,"return_value":{"class":"Sequel::Postgres::Dataset","value":"#<Sequel::Postgres::Dataset:0x00007ff3d89618f0>","object_id":70342643747960}},{"id":38337,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT DISTINCT \"caller\", \"callee\" FROM \"scenarios\", lateral jsonb_to_recordset(class_invocation_graph) as graph(caller q_class, callee q_class) WHERE (\"id\" IN (7, 8))","database_type":"postgres","server_version":120003}},{"id":38338,"event":"return","thread_id":70342530023440,"parent_id":38337,"elapsed":0.00131},{"id":38339,"event":"call","thread_id":70342530023440,"defined_class":"Diagram::ComponentDiagram","method_id":"from_invocation_graph","path":"lib/appland/diagram/component_diagram.rb","lineno":10,"static":true,"parameters":[{"name":"graph","class":"Array","object_id":70342538128360,"value":"[{:caller=>{:package_name=>\"controllers\", :class_name=>\"SessionController\"}, :callee=>{:package_name","kind":"req"}],"receiver":{"class":"Class","object_id":70342535535520,"value":"Diagram::ComponentDiagram"}},{"id":38340,"event":"call","thread_id":70342530023440,"defined_class":"Diagram::ComponentDiagram","method_id":"add_graph","path":"lib/appland/diagram/component_diagram.rb","lineno":54,"static":false,"parameters":[{"name":"graph","class":"Array","object_id":70342538128360,"value":"[{:caller=>{:package_name=>\"controllers\", :class_name=>\"SessionController\"}, :callee=>{:package_name","kind":"req"}],"receiver":{"class":"Diagram::ComponentDiagram","object_id":70342537535260,"value":"#<Diagram::ComponentDiagram:0x00007ff3cbecbe38>"}},{"id":38341,"event":"return","thread_id":70342530023440,"parent_id":38340,"elapsed":5.9e-05,"return_value":{"class":"Array","value":"[{:caller=>{:package_name=>\"controllers\", :class_name=>\"SessionController\"}, :callee=>{:package_name","object_id":70342538128360}},{"id":38342,"event":"return","thread_id":70342530023440,"parent_id":38339,"elapsed":0.000222,"return_value":{"class":"Diagram::ComponentDiagram","value":"#<Diagram::ComponentDiagram:0x00007ff3cbecbe38>","object_id":70342537535260}},{"id":38343,"event":"call","thread_id":70342530023440,"defined_class":"DAO::Scenario","method_id":"first_source_control_dataset","path":"app/models/dao/scenario.rb","lineno":79,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":70342539022120,"value":"DAO::Scenario"}},{"id":38344,"event":"return","thread_id":70342530023440,"parent_id":38343,"elapsed":0.000102,"return_value":{"class":"Sequel::Postgres::Dataset","value":"#<Sequel::Postgres::Dataset:0x00007ff3cbed23a0>","object_id":70342537548240}},{"id":38345,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT scenarios.metadata->'git'->>'repository' AS \"repository_url\", scenarios.metadata->'git'->>'commit' AS \"commit\" FROM \"scenarios\" WHERE ((scenarios.metadata->'git'->>'repository' IS NOT NULL) AND (scenarios.metadata->'git'->>'commit' IS NOT NULL) AND (\"id\" IN (7, 8))) LIMIT 1","database_type":"postgres","server_version":120003}},{"id":38346,"event":"return","thread_id":70342530023440,"parent_id":38345,"elapsed":0.001498},{"id":38347,"event":"call","thread_id":70342530023440,"defined_class":"DAO::Scenario","method_id":"class_locations_dataset","path":"app/models/dao/scenario.rb","lineno":90,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":70342539022120,"value":"DAO::Scenario"}},{"id":38348,"event":"return","thread_id":70342530023440,"parent_id":38347,"elapsed":4.9e-05,"return_value":{"class":"Sequel::Postgres::Dataset","value":"#<Sequel::Postgres::Dataset:0x00007ff3d23b4e08>","object_id":70342590441220}},{"id":38349,"event":"call","thread_id":70342530023440,"sql_query":{"sql":"SELECT jsonb_object_agg(compute_code_objects_by_location(data->'classMap')) AS \"code_objects_by_location\" FROM \"scenarios\" WHERE (\"id\" IN (7, 8)) LIMIT 1","database_type":"postgres","server_version":120003}},{"id":38350,"event":"return","thread_id":70342530023440,"parent_id":38349,"elapsed":0.001863},{"id":38351,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":70342547817180,"value":"#<JSON::Ext::Parser:0x00007ff3cd2685b8>"}},{"id":38352,"event":"return","thread_id":70342530023440,"parent_id":38351,"elapsed":1.8e-05,"return_value":{"class":"Hash","value":"{\"\"=>[\"controllers\", \"\"], \"app/models/user.rb:4\"=>[\"models\", \"User\"], \"app/controllers/session_contr","object_id":70342547831560}},{"id":38353,"event":"call","thread_id":70342530023440,"defined_class":"Diagram::ComponentDiagram","method_id":"set_class_locations","path":"lib/appland/diagram/component_diagram.rb","lineno":45,"static":false,"parameters":[{"name":"class_locations","class":"Hash","object_id":70342547828700,"value":"{\"User\"=>\"app/models/user.rb\", \"SessionController\"=>\"app/controllers/session_controller.rb\"}","kind":"req"}],"receiver":{"class":"Diagram::ComponentDiagram","object_id":70342537535260,"value":"#<Diagram::ComponentDiagram:0x00007ff3cbecbe38>"}},{"id":38354,"event":"return","thread_id":70342530023440,"parent_id":38353,"elapsed":7.0e-06,"return_value":{"class":"Hash","value":"{\"User\"=>\"app/models/user.rb\", \"SessionController\"=>\"app/controllers/session_controller.rb\"}","object_id":70342547828700}},{"id":38355,"event":"return","thread_id":70342530023440,"parent_id":38326,"elapsed":0.051451,"return_value":{"class":"Diagram::ComponentDiagram","value":"#<Diagram::ComponentDiagram:0x00007ff3cbecbe38>","object_id":70342537535260}},{"id":38356,"event":"call","thread_id":70342530023440,"defined_class":"Diagram::ComponentDiagram","method_id":"to_json","path":"lib/appland/diagram/component_diagram.rb","lineno":90,"static":false,"parameters":[],"receiver":{"class":"Diagram::ComponentDiagram","object_id":70342537535260,"value":"#<Diagram::ComponentDiagram:0x00007ff3cbecbe38>"}},{"id":38357,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":70342547899560,"value":"{\"packages\"=>[\"controllers\", \"SQL\", \"HTTP\"], \"class_package\"=>{\"SessionController\"=>\"controllers\", \"","kind":"req"}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":70342547899460,"value":"#<JSON::Ext::Generator::State:0x00007ff3cd290888>"}},{"id":38358,"event":"return","thread_id":70342530023440,"parent_id":38357,"elapsed":0.000132,"return_value":{"class":"String","value":"{\"packages\":[\"controllers\",\"SQL\",\"HTTP\"],\"class_package\":{\"SessionController\":\"controllers\",\"SQL\":\"S","object_id":70342627070900}},{"id":38359,"event":"return","thread_id":70342530023440,"parent_id":38356,"elapsed":0.000352,"return_value":{"class":"String","value":"{\"packages\":[\"controllers\",\"SQL\",\"HTTP\"],\"class_package\":{\"SessionController\":\"controllers\",\"SQL\":\"S","object_id":70342627070900}},{"id":38360,"event":"return","thread_id":70342530023440,"parent_id":38321,"elapsed":0.054462,"return_value":{"class":"String","value":"{\"packages\":[\"controllers\",\"SQL\",\"HTTP\"],\"class_package\":{\"SessionController\":\"controllers\",\"SQL\":\"S","object_id":70342627070900}},{"id":38361,"event":"return","thread_id":70342530023440,"parent_id":38284,"elapsed":0.070481,"return_value":{"class":"String","value":"{\"packages\":[\"controllers\",\"SQL\",\"HTTP\"],\"class_package\":{\"SessionController\":\"controllers\",\"SQL\":\"S","object_id":70342627070900}},{"id":38362,"event":"return","thread_id":70342530023440,"parent_id":38257,"elapsed":0.076929,"http_server_response":{"status":200,"mime_type":"application/json; charset=utf-8"}},{"id":38363,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":70342627155100,"value":"{\"session_id\"=>\"86c6a7c1de78076d5d6cafa3a2e58aa7\", \"user_id\"=>14, \"configuration\"=>\"{}\", \"flash\"=>{\"","kind":"req"}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":70342627154960,"value":"#<JSON::Ext::Generator::State:0x00007ff3d69bb820>"}},{"id":38364,"event":"return","thread_id":70342530023440,"parent_id":38363,"elapsed":3.4e-05,"return_value":{"class":"String","value":"{\"session_id\":\"86c6a7c1de78076d5d6cafa3a2e58aa7\",\"user_id\":14,\"configuration\":\"{}\",\"flash\":{\"discard","object_id":70342627165640}},{"id":38365,"event":"call","thread_id":70342530023440,"defined_class":"OpenSSL::Cipher","method_id":"encrypt","path":"OpenSSL::Cipher#encrypt","static":false,"parameters":[{"name":"arg","class":"Array","object_id":70342627185220,"value":"[]","kind":"rest"}],"receiver":{"class":"OpenSSL::Cipher","object_id":70342627187760,"value":"#<OpenSSL::Cipher:0x00007ff3d69cb860>"}},{"id":38366,"event":"return","thread_id":70342530023440,"parent_id":38365,"elapsed":5.0e-06,"return_value":{"class":"OpenSSL::Cipher","value":"#<OpenSSL::Cipher:0x00007ff3d69cb860>","object_id":70342627187760}},{"id":38367,"event":"call","thread_id":70342530023440,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":70342627201060,"value":"{\"_rails\"=>{\"message\"=>\"eyJzZXNzaW9uX2lkIjoiODZjNmE3YzFkZTc4MDc2ZDVkNmNhZmEzYTJlNThhYTciLCJ1c2VyX2lk","kind":"req"}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":70342627200960,"value":"#<JSON::Ext::Generator::State:0x00007ff3d69d1f80>"}},{"id":38368,"event":"return","thread_id":70342530023440,"parent_id":38367,"elapsed":2.9e-05,"return_value":{"class":"String","value":"{\"_rails\":{\"message\":\"eyJzZXNzaW9uX2lkIjoiODZjNmE3YzFkZTc4MDc2ZDVkNmNhZmEzYTJlNThhYTciLCJ1c2VyX2lkIj","object_id":70342535238260}},{"id":38369,"event":"call","thread_id":70342530023440,"defined_class":"OpenSSL::Cipher","method_id":"final","path":"OpenSSL::Cipher#final","static":false,"parameters":[],"receiver":{"class":"OpenSSL::Cipher","object_id":70342627187760,"value":"#<OpenSSL::Cipher:0x00007ff3d69cb860>"}},{"id":38370,"event":"return","thread_id":70342530023440,"parent_id":38369,"elapsed":5.0e-06,"return_value":{"class":"String","value":"","object_id":70342627220660}}]}